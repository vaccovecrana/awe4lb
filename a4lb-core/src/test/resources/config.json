{
  "api": {
    "enabled": true,
    "bind": {"host":"0.0.0.0", "port": 8888}
  },
  "metrics": {
    "enabled": true,
    "bind": {"host":"0.0.0.0", "port": 9284}
  },
  "servers": [
    {
      "id": "vacco-http",
      "addr": {"host":"0.0.0.0", "port": 8080},
      "match": [
        {
          "discover": {
            "exec": {
              "command": "cat",
              "args": ["./src/test/resources/momo-hosts.txt"],
              "format": "PlainText"
            }
          }
        }
      ]
    },
    {
      "id": "vacco-tls",
      "addr": {"host":"0.0.0.0", "port": 8443},
      "tls": {
        "certPath": "./src/test/resources/cert.pem",
        "keyPath": "./src/test/resources/key.pem",
        "ciphers": ["TLS_AES_128_GCM_SHA256"]
      },
      "match": [
        {
          "and": [{"sni": {"equals": "momo.xio.vacco.li"}}, {"host": {"equals": "172.16.0.111"}}],
          "discover": {
            "exec": {
              "command": "cat",
              "args": ["./src/test/resources/momo-hosts.json"],
              "format": "Json"
            }
          }
        },
        {
          "and": [{"sni": {"equals": "sdr.xio.vacco.li"}}],
          "pool": {
            "type": "Weight",
            "hosts": [
              {"addr": {"host": "websdr.ewi.utwente.nl", "port": 8901}, "weight": 1, "priority": 1}
            ]
          }
        },
        {
          "and": [{"sni": {"equals": "idrac.xio.vacco.li"}}],
          "pool": {
            "openTls": true,
            "hosts": [{"addr": {"host": "172.16.0.1", "port": 8443}}]
          }
        }
      ]
    },
    {
      "id": "vacco-ssh",
      "addr": {"host": "0.0.0.0", "port": 8022},
      "match": [
        {
          "pool": {
            "hosts": [{"addr": {"host": "172.16.0.1", "port": 10022}}]
          }
        }
      ]
    }
  ]
}

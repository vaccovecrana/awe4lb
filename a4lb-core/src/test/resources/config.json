{
  "api": {
    "enabled": true,
    "bind": {"host":"0.0.0.0", "port": 8888}
  },
  "metrics": {
    "enabled": true,
    "bind": {"host":"0.0.0.0", "port": 9284}
  },
  "servers": {
    "vacco-tls": {
      "addr": {"host":"0.0.0.0", "port": 443},
      "tls": {
        "certPath": "/etc/gobetween/cert-chain.pem",
        "keyPath": "/etc/gobetween/cert-key.pem"
      },
      "match": [
        {
          "and": [{"sni": {"equals": "sso.vacco.li"}}, {"host": {"equals": "172.16.0.1"}}],
          "pool": {
            "hosts": [{"addr": {"host": "us-east-00-vault-test-00.lan", "port": 8200}}]
          }
        },
        {
          "and": [{"sni": {"equals": "sso.vacco.li"}}],
          "pool": {
            "hosts": [
              {"addr": {"host": "us-east-00-vault-00.lan", "port": 8200}, "weight": 2, "priority": 1},
              {"addr": {"host": "us-east-00-vault-01.lan", "port": 8200}, "weight": 1, "priority": 1},
              {"addr": {"host": "us-east-00-vault-02.lan", "port": 8200}, "weight": 1, "priority": 2}
            ]
          }
        },
        {
          "and": [{"sni": {"equals": "ci.vacco.li"}}],
          "pool": {
            "type": "RoundRobin",
            "hosts": [
              {"addr": {"host": "us-east-00-vault-test-00.lan", "port": 8200}},
              {"addr": {"host": "us-east-00-vault-test-01.lan", "port": 8200}}
            ]
          }
        }
      ],
      "healthCheck": {"intervalMs": 5000, "timeoutMs": 3000}
    },
    "vacco-ssh": {
      "addr": {"host": "0.0.0.0", "port": 22},
      "match": [
        {
          "pool": {
            "hosts": [{"addr": {"host": "us-east-00-git-00.lan", "port": 22}}]
          }
        }
      ],
      "healthCheck": {"intervalMs": 5000, "timeoutMs": 3000}
    },
    "k0s-kube-api": {
      "addr": {"host": "0.0.0.0", "port": 6443},
      "match": [
        {
          "pool": {
            "type": "LeastConn",
            "hosts": [
              {"addr": {"host": "us-east-00-k8s-prd-cnt-00.lan", "port": 6443}},
              {"addr": {"host": "us-east-00-k8s-prd-cnt-01.lan", "port": 6443}},
              {"addr": {"host": "us-east-00-k8s-prd-cnt-02.lan", "port": 6443}}
            ]
          }
        }
      ],
      "healthCheck": {"intervalMs": 1000, "timeoutMs": 500}
    }
  }
}
